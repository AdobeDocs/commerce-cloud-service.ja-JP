---
title: 保護ブロック
description: クラウドインフラストラクチャ上のAdobe Commerceの保護ブロック機能と、既知のセキュリティの脆弱性からサイトを保護する方法について説明します。
feature: Cloud, Configuration, Security
topic: Security
exl-id: bc1def41-9521-4005-872e-9ecaab1d4d16
source-git-commit: 7b9c6a4cd17069c25455195bd8f273664b8a29eb
workflow-type: tm+mt
source-wordcount: '309'
ht-degree: 0%

---

# 保護ブロック

Adobe Commerce on cloud インフラストラクチャには、特定の状況下で、セキュリティの脆弱性を持つ Web サイトへのアクセスを制限する保護ブロック機能があります。 この部分ブロッキング方式は、既知のセキュリティ脆弱性の悪用を防ぎます。 古いソフトウェアには、多くの場合、悪用事例が含まれているので、これらのサイトへのアクセスを部分的にブロックすることで、これらの悪用から保護することが重要です。

## 保護ブロックの仕組み

Adobe Commerceは、一般的にクラウドインフラストラクチャにデプロイされるオープンソースソフトウェアに、既知のセキュリティ脆弱性のデータベースを提供しています。 セキュリティチェックは、オープンソースプロジェクトの既知の脆弱性のみを分析し、書き込んだカスタマイズを調べることはできません。

セキュリティスキャンの実行：

- 新しいコードを Git にプッシュする場合
- データベースに新しい脆弱性が追加された場合

アプリケーションで重大な脆弱性が検出されると、Git プッシュが拒否されます。

次の 2 種類のブロックが実行されます。

1. **完全なブロック** — 開発用 Web サイト用です。 に付随するエラーメッセージ `git push` は、脆弱性に関する詳細な情報を提供します。

1. **部分ブロック** — 実稼動用の Web サイトの場合。サイトのほとんどがオンラインで維持できます。 脆弱性の性質に応じて、クエリ文字列、cookie、その他のヘッダーなど、リクエストの一部がGETリクエストから削除される場合があります。 ログイン、フォーム送信、製品のチェックアウトなど、その他すべての要求はすべてブロックされる場合があります。

ブロック解除は、セキュリティリスクの解決に伴って自動化されます。 脆弱性を除去するセキュリティアップグレードを適用すると、ブロックはすぐに削除されます。

## 保護ブロックからオプトアウト

クラウドインフラストラクチャにAdobe Commerceをデプロイするソフトウェアの既知の脆弱性から保護する保護ブロックが用意されています。

ただし、次の行を [`.magento.app.yaml`](../application/configure-app-yaml.md):

```yaml
   preflight:
      enabled: false
```

次のように、特定のチェックを明示的にオプトアウトできます。

```yaml
   preflight:
      enabled: true
      ignore_rules: [ "drupal:SA-CORE-2014-005" ]
```
