---
title: Pro プロジェクトのワークフロー
description: Pro 開発およびデプロイメントワークフローの使用方法について説明します。
feature: Cloud, Iaas, Paas
exl-id: 103e90d5-2ef2-4fef-845c-439344666b00
source-git-commit: 08f43a3b0a50cdb2a5e8a45bd2e2448bc6dbca2b
workflow-type: tm+mt
source-wordcount: '782'
ht-degree: 0%

---

# Pro プロジェクトのワークフロー

Pro プロジェクトには、グローバル `master` ブランチと 3 つの主な環境：

1. **実稼動** ライブサイトの起動と保守のための環境
1. **ステージング** すべてのサービスでのテスト環境
1. **統合** 開発・テスト環境

![Pro 環境リスト](../../assets/pro-environments.png)

これらの環境は、 `read-only`：ローカルワークスペースからプッシュされたブランチからデプロイされたコード変更を受け入れます。 詳しくは、 [Pro アーキテクチャ](pro-architecture.md) を参照してください。 詳しくは、 [[!DNL Cloud Console]](../project/overview.md#cloud-console) ：プロジェクトビューの Pro 環境リストの概要。

次の図は、Pro の開発とデプロイのワークフローを示しています。このワークフローは、シンプルな Git 分岐のアプローチを使用します。 あなた [開発する](#development-workflow) に基づくアクティブなブランチを使用するコード `integration` 環境 _押し込み_ および _取り込み_ コードがリモートの Active ブランチに変わり、そこから変わります。 検証済みのコードをデプロイするには、次の手順を実行します。 _結合_ 基本ブランチへのリモートブランチ。自動化を有効化します。 [ビルドとデプロイ](#deployment-workflow) プロセスを作成します。

![Pro アーキテクチャ開発ワークフローの概要](../../assets/pro-dev-workflow.png)

## 開発ワークフロー

統合環境は、 `integration` Adobe Commerce on cloud infrastructure コードを含むブランチ。 追加のアクティブな環境ブランチを 1 つ作成できます。 これにより、Platform as a service(PaaS) コンテナにデプロイできるアクティブなブランチを最大 2 つ作成できます。 非アクティブな環境の数に制限はありません。

{{enhanced-integration-envs}}

プロジェクト環境は、柔軟で継続的な統合プロセスをサポートします。 最初に、 `integration` ローカルプロジェクトフォルダーに分岐します。 ブランチ（複数のブランチ）の作成、新しい機能の開発、変更の設定、拡張機能の追加、アップデートのデプロイを行います。

- **取得** 次の変更： `integration`

- **ブランチ** から `integration`

- **開発** ローカルワークステーション上のコード ( [!DNL Composer] 更新

- **プッシュ** リモートへのコード変更と検証

- **結合** から `integration` およびテスト

開発されたコードブランチと対応する設定ファイルがある場合、コードの変更を `integration` 分岐を参照して、より包括的なテストをおこないます。 The `integration` 環境も次の場合に最適です。

- **サードパーティのサービスの統合**— PaaS 環境では、すべてのサービスを利用できるわけではありません。

- **設定管理ファイルの生成** — 一部の設定は _読み取り専用_ デプロイ済みの環境で使用できます。

- **ストアの設定** — 統合環境を使用して、すべてのストア設定を完全に設定する必要があります。 次の項目が見つかります。 **ストア管理 URL** の _統合_ 環境ビュー ( _[!DNL Cloud Console]_.

## デプロイメントワークフロー

ローカルワークステーションからリモート環境にコードをプッシュしたり、コードを環境ブランチに結合するたびに、ビルドとデプロイスクリプトによって新しいコードが生成され、設定したサービスがリモート環境にプロビジョニングされます。

スクリプトアクションを作成：

- ターゲット環境のサイトは、ビルド中も引き続き実行されます

- クラウドインフラストラクチャのパッチとホットフィックスでAdobe Commerceを確認して実行する

- ビルドおよびデプロイログでコードをコンパイル

- 設定管理を確認します。静的コンテンツのデプロイメントはこのフェーズでおこなわれます。

- 変更されていないコードのスラッグを作成または使用して、プロセスをスピードアップします

- すべてのバックエンドサービスとアプリケーションをプロビジョニング

スクリプトアクションをデプロイ：

- サイトをのターゲット環境に配置する _メンテナンス_ mode

- ビルド中に完了していない場合は、静的コンテンツをデプロイします

- クラウドインフラストラクチャ上のAdobe Commerceをインストールまたは更新する

- トラフィックのルーティングの設定

ビルドとデプロイのプロセスが完了すると、最新のコードの変更と設定が反映され、ストアが再びオンラインになります。 詳しくは、 [デプロイメントプロセス](../deploy/process.md).

### 統合に結合

アクティブな開発ブランチをベースに結合して、検証済みのすべてのコード変更を組み合わせる `integration` 分岐。 すべての変更を `integration` 分岐を使用して、ステージング環境への変更を昇格します。

### ステージングに結合

ステージングは、実稼動環境にできるだけ近い場所に、すべてのサービスと設定を提供する実稼動前の環境です。 常に、 `integration` 環境から `staging` 環境を使用して、すべてのサービスで徹底的なテストを実行できます。 初めてステージング環境を使用する場合は、次のようなサービスを設定する必要があります。 [Fastly CDN](../cdn/fastly.md) および [New Relic](../monitor/new-relic-service.md). サンドボックスまたはテスト資格情報を使用して、支払いゲートウェイ、発送先、通知、およびその他の重要なサービスを設定します。

ストアが実稼動環境に対応していると確認できるまで、すべてのサービスを徹底的にテストし、パフォーマンステストツールを検証し、管理者としてお客様として UAT テストを実行することをお勧めします。 詳しくは、 [ストアをデプロイ](../deploy/staging-production.md).

### 実稼動環境にマージ

ステージング環境で徹底的にテストした後、実稼動環境に統合し、ライブ資格情報を使用して十分にテストします。 実稼動サイトを起動した瞬間に、顧客が購入を完了でき、管理者がライブストアを管理できる必要があります。 ストアをデプロイして運用を開始する方法について詳しくは、次のトピックを参照してください。

- [ストアをデプロイ](../deploy/staging-production.md)
- [サイトの起動](../launch/overview.md)

### グローバルに統合マスター

実稼動用コードのコピーを常にグローバルにプッシュする `master` サービスを中断することなく、実稼動環境をデバッグする必要が生じた場合。

実行 **not** グローバルからブランチを作成する `master`. 以下を使用します。 `integration` ブランチを使用して、開発および修正用の新しいアクティブなブランチを作成します。
