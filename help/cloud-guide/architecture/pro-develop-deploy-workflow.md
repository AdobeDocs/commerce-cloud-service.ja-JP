---
title: プロプロジェクトワークフロー
description: Pro 開発ワークフローとデプロイメントワークフローの使用方法を説明します。
feature: Cloud, Iaas, Paas
exl-id: 103e90d5-2ef2-4fef-845c-439344666b00
source-git-commit: 08f43a3b0a50cdb2a5e8a45bd2e2448bc6dbca2b
workflow-type: tm+mt
source-wordcount: '782'
ht-degree: 0%

---

# プロプロジェクトワークフロー

Pro プロジェクトには、グローバルな Git リポジトリが 1 つ含まれています `master` ブランチと 3 つの主な環境：

1. **実稼動** ライブサイトの起動および維持のための環境
1. **ステージング** すべてのサービスを使用したテストの環境
1. **統合** 開発およびテストの環境

![Pro 環境リスト](../../assets/pro-environments.png)

これらの環境は次のとおりです `read-only`ローカルワークスペースからプッシュされたブランチからデプロイされたコードの変更を受け入れます。 参照： [Pro アーキテクチャ](pro-architecture.md) pro 環境の完全な概要 参照： [[!DNL Cloud Console]](../project/overview.md#cloud-console) を参照してください。

次の図は、シンプルな Git ブランチのアプローチを使用する、Pro の開発とデプロイのワークフローを示しています。 あなた [開発](#development-workflow) に基づくアクティブなブランチを使用したコード `integration` 環境、 _押し付け_ および _引っ張る_ コードは、リモートのアクティブブランチとの間で変更されます。 検証済みコードのデプロイ方法： _結合_ 基本ブランチに対するリモートブランチ。自動でアクティブになります。 [ビルドとデプロイ](#deployment-workflow) その環境のプロセス。

![Pro アーキテクチャ開発ワークフローの概要](../../assets/pro-dev-workflow.png)

## 開発ワークフロー

統合環境は単一のベースを提供します `integration` クラウドインフラストラクチャコード上のAdobe Commerceを含むブランチ。 アクティブな環境ブランチを 1 つ追加で作成できます。 これにより、最大 2 つのアクティブなブランチを、Platform as a Service （PaaS）コンテナにデプロイできます。 非アクティブな環境の数に制限はありません。

{{enhanced-integration-envs}}

プロジェクト環境は、柔軟な継続的統合プロセスをサポートします。 最初に、 `integration` ローカルプロジェクトフォルダーに分岐します。 1 つまたは複数のブランチの作成、新機能の開発、変更の設定、拡張機能の追加、更新のデプロイを行います。

- **取得** 変更元 `integration`

- **ブランチ** から `integration`

- **開発** ローカルワークステーション上のコード（以下を含む） [!DNL Composer] 更新

- **プッシュ** リモートへのコード変更と検証

- **結合** 対象： `integration` とテスト

開発されたコードブランチと対応する設定ファイルを使用すると、コードの変更をに結合する準備が整います `integration` より包括的なテストのための分岐。 この `integration` 環境は、次の場合にも最適です。

- **サードパーティのサービスの統合**—PaaS 環境では、すべてのサービスが使用できるわけではありません。

- **構成管理ファイルの生成** – 構成設定には、次のようなものがあります _読み取り専用_ をデプロイ済みの環境で使用します。

- **ストアの設定** – 統合環境を使用して、すべてのストア設定を完全に構成する必要があります。 次を見つけることができます **ストア管理 URL** 日 _統合_ の環境ビュー _[!DNL Cloud Console]_.

## デプロイメントワークフロー

コードをローカル ワークステーションからリモート環境にプッシュしたり、コードを環境ブランチにマージしたりするたびに、ビルド スクリプトとデプロイ スクリプトが新しいコードを生成し、設定済みのサービスをリモート環境にプロビジョニングします。

スクリプト アクションの作成：

- ターゲット環境内のサイトは、ビルド中も引き続き実行されます

- Adobe Commerce on cloud infrastructure のパッチおよびホットフィックスを確認して実行します。

- ビルドおよびデプロイログを使用したコードのコンパイル

- 設定管理のチェック。このフェーズでは静的コンテンツのデプロイメントが行われます。

- 変更されていないコードのスラッグを作成または使用して、プロセスを高速化します

- すべてのバックエンドサービスおよびアプリケーションのプロビジョニング

スクリプト アクションの展開：

- 以下の場所のターゲット環境にサイトを配置： _保守_ モード

- ビルド中に静的コンテンツのデプロイが完了していない場合

- クラウドインフラストラクチャー上でのAdobe Commerceのインストールまたは更新

- トラフィックのルーティングの設定

ビルドおよびデプロイプロセスが完了すると、ストアは最新のコード変更と設定を使用してオンラインに戻ります。 参照： [デプロイメントプロセス](../deploy/process.md).

### 統合に結合

アクティブな開発ブランチをベースにマージして、検証済みのすべてのコード変更を組み合わせます `integration` 分岐。 すべての変更を次でテストできます `integration` ステージング環境に対する変更を昇格する前に分岐します。

### ステージングに結合

ステージングは、実稼動環境にできるだけ近い場所ですべてのサービスと設定を提供する、実稼動前の環境です。 コードの変更は常に次からプッシュします `integration` 環境からへ `staging` 環境：すべてのサービスで徹底的なテストを実行できます。 ステージング環境を初めて使用するときは、次のようなサービスを設定する必要があります [Fastly CDN](../cdn/fastly.md) および [New Relic](../monitor/new-relic-service.md). サンドボックスまたはテスト資格情報を使用して、支払いゲートウェイ、送料、通知、その他の重要なサービスを設定します。

ストアが実稼動環境に対応できる状態になるまで、すべてのサービスを徹底的にテストし、パフォーマンステストツールを検証し、管理者およびお客様として UAT テストを実行することをお勧めします。 参照： [ストアのデプロイ](../deploy/staging-production.md).

### 実稼動に結合

ステージング環境で十分なテストを行った後、実稼動環境に結合し、ライブ資格情報を使用して十分にテストします。 実稼動サイトを立ち上げた瞬間に、顧客は購入を完了でき、管理者はライブストアを管理できる必要があります。 ストアのデプロイと運用開始に関する詳細で明確な手順については、次のトピックを参照してください。

- [ストアのデプロイ](../deploy/staging-production.md)
- [サイトの起動](../launch/overview.md)

### グローバルマスターに結合

実稼動コードのコピーを常にグローバルにプッシュ `master` 緊急に、サービスを中断せずに実稼動環境をデバッグする必要が生じた場合。

実行 **ではない** グローバルからのブランチの作成 `master`. の使用 `integration` ブランチ：開発および修正用に新しいアクティブなブランチを作成します。
